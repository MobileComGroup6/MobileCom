\section{Experiment Setup}

	In the following sections we introduce the general experiment setup as well as the various test scenarios and parameters that were used to obtain the final results.
	
	\subsection{Test Architecture}
	Our simulation of the spread spectrum mechanisms is based on a simple pipeline, where a \emph{sender} is writing its data onto a \emph{medium}. Various kinds of interference is generated by a \emph{jammer} which adds its data to the medium. Finally the \emph{receiver} reads data from the medium and tries to decode the original bit sequence.
	
	\paragraph{Sender}
	The sender is responsible for spreading a random data sequence consisting of $0$s and $1$s using either the \emph{DSSS} or \emph{FHSS} spreading mechanism as explained in section \ref{sec:theory}. After spreading, the sender will modulate the spread data onto passband using the BPSK modulation scheme (using a phase-shift of $\Delta \phi = \pi / 2$) with a carrier frequency $f_c$ in the case of DSSS. With FHSS, the sender generates a set of $n=8$ sub-carrier frequency bands of bandwidth $\Delta f$. The modulated signal is then passed to the \emph{medium}
	
	\paragraph{Medium} 
	After a signal is sent to the medium, we perform a Fast Fourier Transform (FFT) of the data and store the result. A jammer may then add an interference signal onto the original data, depending on the respective test scenario. Whenever a receiver reads data from the medium, we perform an inverse FFT and pass the data to the receiver.
	
	\paragraph{Receiver}
	The receiver first reads the data off the medium and applies the respective demodulation scheme according to the scheme that was used to send the data in the first place. If DSSS was used, the receiver simply demodulates the whole signal using BPSK and despreads the signal using the same pn-sequence that the sender used. In the case of FHSS ...(insert FHSS despreading here).
		
	\paragraph{Jammer}
	We used multiple approaches to designing our jammer. The most reliable method -- the method we used in our results -- was designing the jammer as just another DSSS user whose bandwidth we can control using the chipping rate. One of the most difficult aspects of this simulation was the power control of this jammer with respect to the signal power that is already on the medium. As a result, we always specify the power of the jammer as a power factor $p_f$ relative to the total power of the signal to be jammed.
	
	\subsection{Testing Scenarios and Parameters}
	The used test metric was solely the bit error rate $BER$. This was computed as the number of bit errors per sent data sequence $BE$ divided by the length of the data sequence.
	
	\[
		BER = \frac{BE}{length(data)}
	\]
	
	Each test was repeated $20$ times, yielding an effective average over all test runs.
	
	Throughout all test scenarios, the carrier frequency for all DSSS tests remained $f_c = 100\text{Hz}$. The channel configuration for FHSS is also constant, with the $n=8$ sub-carriers starting at frequency $f_c = 100\text{Hz}$ with a channel bandwidth of $\Delta f = 128 \text{Hz}$. The symbol rate was fixed at $f_{sym} = 8\text{Hz}$. In each test, white Gaussian noise with an SNR of $10\text{dB}$ was added to the time domain signal to simulate interference of various origins.
	
	Each test scenario was conducted with the same variable parameters consisting of the chipping rate $f_{chip}$ and the length of the pn-sequence $l_{pn}$. For both FHSS and DSSS, we used $l_{pn} = (16, 64)$. Initial tests showed that these are sensible values. The chipping rates used in DSSS were $f_{chip}^{DSSS} = (16,32,64,96)\text{Hz}$, in FHSS $f_{chip}^{FHSS} = (1, 4, 16, 32)$ respectively. Combined, the two paremeter sets $l_{pn}$ and $f_{chip}$ form eight curves in each plot of a test scenario.
	
	\paragraph{Narrowband Interference}
	In this scenario, we tested the performance of both spreading schemes under the influence of narrowband interference. For DSSS, we jammed the $f_{jam} = 100\text{Hz}$ carrier with a noise bandwidth of $\Delta f_{jam} = 8\text{Hz}$ at various noise power factors $p_f$ from $0$ to $7$ in $0.5$ step increments. For FHSS, we successively jammed each sub-carrier channel, from $0$ to all $8$ channels with a noise bandwidth of $\Delta f_{jam} = 64\text{Hz}$, as we wanted to jam a whole sub-carrier channel. The power factor for each jam channel was set to $p_f = 2.5$.
	
	\paragraph{Wideband Interference}
	Wideband interference is the core weakness of both spread specrum techniques -- a fact that we wanted to simulate. The DSSS test run was conducted using a jamming bandwidth of $Delta f_{jam} = 1000\text{Hz}$ again targeted at $f_{jam} = 100\text{Hz}$. The jamming power factor was scaled from $1$ to $15$ to simulate various strengths of wideband interference. For FHSS, the same noise bandwidth was used, but the jammed frequency was moved close to the center of the sub-carriers $f_{jam} = 550\text{Hz}$. The noise power factor was scaled from $2$ to $4$ in $0.5$ increments.
	
	\paragraph{Varying Noise Bandwidth}	
	An interesting scenario represents the performance of the spreading schemes in presence of various noise bandwidths. With our jammer design, this kind of comparison was very hard to achieve since a change in bandwidth also meant a change in power. We had to also adapt the power factor for each tested bandwidth to obtain comparable results. For both DSSS and FHSS we used $\Delta f_{fam} = (8,16,32,64,128,256)\text{Hz}\}$ with a matching power factor $p_f = (1,2,2.5,3,3.5,4)$. These power factors were obtained by visually matching in all conscience the noise power density to figures given in \cite{web-nl} and are by no means exact. The jammed frequency was $f_{jam}=100\text{Hz}$ for both schemes.
	
	\paragraph{Multiple Users}	
	
	\paragraph{Varying strength of white Gaussian noise}
	
	
	
	